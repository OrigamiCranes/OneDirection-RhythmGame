<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>start_time = get_timer();
time = 0;
micros_per_sec = 60000000;

//set beats per minute
bpm = 120;


measure = 1;
quarter_count = 0;

div_4 = 0;
div_8 = 0;
div_16 = 0;
div_32 = 0;

div_4_previous = div_4;
div_8_previous = div_8;
div_16_previous = div_16;
div_32_previous = div_32;

//Use the triggers to play sounds in musical time, (i.e. to play a sound every 
//quarter note- "if obj_midi_clock.div_4_trigger == true audio_play_sound(snd_sound, 1, 0);"
 
div_4_trigger = false;      //quarter note trigger
div_8_trigger = false;      //eigth note trigger
div_16_trigger = false;     //16th note trigger
div_32_trigger = false;     //32nd note trigger






</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
time = (get_timer() - start_time);

div_4_previous = div_4;
div_8_previous = div_8;
div_16_previous = div_16;
div_32_previous = div_32;


div_4 = (floor(time/(micros_per_sec/bpm)) mod 4) + 1 ;
div_8 = (floor(time/(micros_per_sec/2/bpm))mod 8) + 1;
div_16 = (floor(time/(micros_per_sec/4/bpm))mod 16) + 1;
div_32 = (floor(time/(micros_per_sec/8/bpm))mod 32) + 1;


if div_4_previous != div_4 {
quarter_count += 1;
div_4_trigger = true;
}
else div_4_trigger = false;

if quarter_count = 5{
measure +=1;
quarter_count = 1;
}

if div_8_previous != div_8 div_8_trigger = true;
else div_8_trigger = false;
if div_16_previous != div_16 div_16_trigger = true;
else div_16_trigger = false;
if div_32_previous != div_32 div_32_trigger = true;
else div_32_trigger = false;












</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Show Clock

draw_set_color(c_black);
draw_set_halign(fa_center);

draw_text(100,170,"measure");
draw_text(100,200, measure);
draw_text(200,170,"beat");
draw_text(200,200, div_4);
draw_text(300,170,"8th");
draw_text(300, 200, div_8);
draw_text(400,170,"16th");
draw_text(400, 200, div_16);
draw_text(500,170,"32nd");
draw_text(500, 200, div_32);


draw_text(300,300, "bpm: "+string(bpm));


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
